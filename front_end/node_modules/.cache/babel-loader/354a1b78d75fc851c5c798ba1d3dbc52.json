{"remainingRequest":"D:\\Project\\BookManage\\front_end\\node_modules\\babel-loader\\lib\\index.js!D:\\Project\\BookManage\\front_end\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Project\\BookManage\\front_end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project\\BookManage\\front_end\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project\\BookManage\\front_end\\src\\views\\Login.vue","mtime":1671621197492},{"path":"D:\\Project\\BookManage\\front_end\\babel.config.js","mtime":1671621197482},{"path":"D:\\Project\\BookManage\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671623711960},{"path":"D:\\Project\\BookManage\\front_end\\node_modules\\babel-loader\\lib\\index.js","mtime":1671623706785},{"path":"D:\\Project\\BookManage\\front_end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1671623711960},{"path":"D:\\Project\\BookManage\\front_end\\node_modules\\vue-loader\\lib\\index.js","mtime":1671623706360}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxQcm9qZWN0XFxCb29rTWFuYWdlXFxmcm9udF9lbmRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOlxcUHJvamVjdFxcQm9va01hbmFnZVxcZnJvbnRfZW5kXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxvYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICdhbmltYXRlLmNzcyc7CmltcG9ydCB7IG1hcFN0YXRlLCBtYXBNdXRhdGlvbnMsIG1hcEdldHRlcnMsIG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDnmbvlvZXooajljZXnmoTmlbDmja7nu5Hlrprlr7nosaEKICAgICAgbG9naW5EYXRhOiB7CiAgICAgICAgbWFpbF9udW06ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJwogICAgICB9LAogICAgICAvLyDms6jlhozooajljZXpqozor4Hlr7nosaEKICAgICAgcmVnaXN0ZXJEYXRhOiB7CiAgICAgICAgc3R1X2lkOiAnJywKICAgICAgICBuYW1lOiAnJywKICAgICAgICBtYWlsX251bTogJycsCiAgICAgICAgdmFsaTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIC8vIOeUqOaIt+W9k+WJjeaYr+WQpuato+WHhuWkh+eZu+W9lQogICAgICBpc09uTG9naW46IHRydWUsCiAgICAgIC8vIOeUqOaIt+W9k+WJjeaYr+WQpuW3sue7j+aLv+WIsOmqjOivgeeggQogICAgICBpc0dldFZhbGlkYXRlOiBmYWxzZSwKICAgICAgLy8g6Ziy5q2i55So5oi36aKR57mB6K+35rGC6aqM6K+BCiAgICAgIGlzRnJlcVZhbGlkYXRlOiBmYWxzZSwKICAgICAgLy8g55m75b2V6KGo5Y2V6aqM6K+B6KeE5YiZ5a+56LGhCiAgICAgIGxvZ2luRm9ybVJ1bGVzOiB7CiAgICAgICAgbWFpbF9udW06IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpgq7nrrHlnLDlnYAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA4LAogICAgICAgICAgbWVzc2FnZTogJ+mCrueuseWcsOWdgOmVv+W6puS4jeWQiOazlScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDUsCiAgICAgICAgICBtYXg6IDE1LAogICAgICAgICAgbWVzc2FnZTogJ+WvhueggemVv+W6puS4jeWQiOazlScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDms6jlhozooajljZXpqozor4Hop4TliJnlr7nosaEKICAgICAgcmVnaXN0ZXJGb3JtUnVsZXM6IHsKICAgICAgICBzdHVfaWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmgqjnmoTlrablj7cnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiA3LAogICAgICAgICAgbWF4OiA5LAogICAgICAgICAgbWVzc2FnZTogJ+WtpuWPt+mVv+W6puS4jeWQiOazlScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5L2g55qE5pi156ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogMCwKICAgICAgICAgIG1heDogMjAsCiAgICAgICAgICBtZXNzYWdlOiAn5pi156ew6ZW/5bqm5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG1haWxfbnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6YKu566x5Zyw5Z2AJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogOCwKICAgICAgICAgIG1lc3NhZ2U6ICfpgq7nrrHlnLDlnYDkuI3lkIjms5UnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdmFsaTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpemqjOivgeeggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9LCB7CiAgICAgICAgICBtaW46IDMsCiAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0sIHsKICAgICAgICAgIG1pbjogNSwKICAgICAgICAgIG1heDogMTUsCiAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB6ZW/5bqm5LiN5ZCI5rOVJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucygndXNlckFib3V0JywgewogICAgc2F2ZUluZm86ICdTQVZFJwogIH0pKSwge30sIHsKICAgIC8vIOeUqOaIt+eZu+W9lQogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHN1Ym1pdCA9IHsKICAgICAgICAidXNlciI6IHsKICAgICAgICAgICJtYWlsX251bSI6IHRoaXMubG9naW5EYXRhLm1haWxfbnVtLAogICAgICAgICAgInBhc3N3b3JkIjogdGhpcy5sb2dpbkRhdGEucGFzc3dvcmQKICAgICAgICB9CiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JSZWYudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5wb3N0KF90aGlzLmJhc2VVcmwgKyAnL3VzZXJsb2dpbicsIHN1Ym1pdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkJywgcmVzLmRhdGEuaWQpOwogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIHJlcy5kYXRhLm5hbWUpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy5zYXZlSW5mbygpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn55m75b2V5aSx6LSlJywKICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDE1MDAKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIHN3aXRjaFN0YXR1czogZnVuY3Rpb24gc3dpdGNoU3RhdHVzKCkgewogICAgICAvLyDliIfmjaLnlYzpnaIKICAgICAgdGhpcy5pc09uTG9naW4gPSAhdGhpcy5pc09uTG9naW47CiAgICB9LAogICAgLy8g55So5oi35rOo5YaM5bm25o+Q5Lqk6aqM6K+B56CBCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGtleSwgc3VibWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBrZXkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19vbmVfa2V5Jyk7CiAgICAgICAgICAgICAgICBzdWJtaXQgPSB7CiAgICAgICAgICAgICAgICAgICJ1c2VyIjogewogICAgICAgICAgICAgICAgICAgICJuYW1lIjogX3RoaXMyLnJlZ2lzdGVyRGF0YS5uYW1lLAogICAgICAgICAgICAgICAgICAgICJwYXNzd29yZCI6IF90aGlzMi5yZWdpc3RlckRhdGEucGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAgIm1haWxfbnVtIjogX3RoaXMyLnJlZ2lzdGVyRGF0YS5tYWlsX251bSwKICAgICAgICAgICAgICAgICAgICAidmFsaSI6IF90aGlzMi5yZWdpc3RlckRhdGEudmFsaSwKICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgICAgICAgICAgICAic3R1X2lkIjogX3RoaXMyLnJlZ2lzdGVyRGF0YS5zdHVfaWQKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJlZnMucmVnaXN0ZXJGb3JSZWYudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLnBvc3QoX3RoaXMyLmJhc2VVcmwgKyAnL3VzZXJyZWdpc3RlcicsIHN1Ym1pdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMuZGF0YS50b2tlbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaWQnLCByZXMuZGF0YS5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmFtZScsIF90aGlzMi5yZWdpc3RlckRhdGEubmFtZSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2F2ZUluZm8oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5rOo5YaM5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyLCBhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+azqOWGjOWksei0pScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPlumqjOivgeeggQogICAgZ2V0VmFsaWRhdGU6IGZ1bmN0aW9uIGdldFZhbGlkYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczMuJHJlZnMucmVnaXN0ZXJGb3JSZWYudmFsaWRhdGVGaWVsZCgnbWFpbF9udW0nLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUsIGRhdGEsIHJlczsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzRnJlcVZhbGlkYXRlID0gIV90aGlzMy5pc0ZyZXFWYWxpZGF0ZTsgLy8gMjBz5ZCO5YWB6K645YaN5qyh6K+35rGCCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pc0ZyZXFWYWxpZGF0ZSA9ICFfdGhpczMuaXNGcmVxVmFsaWRhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwICogMjApOyAvLyDojrflj5bml7bpl7TmiLPmnaXkuLrmnI3liqHlmajmoIfor4bmnKzmrKHpqozor4HnoIHnmoTor7fmsYLml7bpl7QKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWlsOiBfdGhpczMucmVnaXN0ZXJEYXRhLm1haWxfbnVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRodHRwLnBvc3QoX3RoaXMzLmJhc2VVcmwgKyAnL3ZhbGlkYXRlTWFpbCcsIGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5pc0dldFZhbGlkYXRlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfb25lX2tleScsIHJlcy5kYXRhKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5pbmZvKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6aqM6K+B56CB5Y+R6YCB5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+mqjOivgeeggeWPkemAgeWksei0pScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA,OAAA,aAAA;AACA,SACA,QADA,EAEA,YAFA,EAGA,UAHA,EAIA,UAJA,QAKA,MALA;AAMA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA;AACA,MAAA,YAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,QAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA;AALA,OAPA;AAcA;AACA,MAAA,SAAA,EAAA,IAfA;AAgBA;AACA,MAAA,aAAA,EAAA,KAjBA;AAkBA;AACA,MAAA,cAAA,EAAA,KAnBA;AAoBA;AACA,MAAA,cAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,OAAA,EAAA,WAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SALA,CADA;AAYA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,OAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,GAAA,EAAA,EAFA;AAGA,UAAA,OAAA,EAAA,SAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SALA;AAZA,OArBA;AA8CA;AACA,MAAA,iBAAA,EAAA;AACA,QAAA,MAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,GAAA,EAAA,CAFA;AAGA,UAAA,OAAA,EAAA,SAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SALA,CADA;AAaA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,GAAA,EAAA,EAFA;AAGA,UAAA,OAAA,EAAA,SAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SALA,CAbA;AAyBA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,OAAA,EAAA,SAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SALA,CAzBA;AAoCA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,OAAA,EAAA,QAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SALA,CApCA;AA+CA,QAAA,QAAA,EAAA,CAAA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,OAFA;AAGA,UAAA,OAAA,EAAA;AAHA,SAAA,EAKA;AACA,UAAA,GAAA,EAAA,CADA;AAEA,UAAA,GAAA,EAAA,EAFA;AAGA,UAAA,OAAA,EAAA,SAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SALA;AA/CA;AA/CA,KAAA;AA4GA,GA9GA;AA+GA,EAAA,OAAA,kCACA,YAAA,CAAA,WAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAAA,CADA;AAIA;AACA,IAAA,KALA,mBAKA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,gBAAA;AACA,sBAAA,KAAA,SAAA,CAAA,QADA;AAEA,sBAAA,KAAA,SAAA,CAAA;AAFA;AADA,OAAA;AAMA,WAAA,KAAA,CAAA,WAAA,CAAA,QAAA;AAAA,2EAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,yBAEA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,OAAA,GAAA,YAAA,EAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,oBAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,oBAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,oBAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,oBAAA,KAAA,CAAA,QAAA;;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,sBAAA,OAAA,EAAA,MADA;AAEA,sBAAA,QAAA,EAAA;AAFA,qBAAA;;AAIA,oBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,mBAVA,EAUA,KAVA,CAUA,UAAA,GAAA,EAAA;AACA,wBAAA,GAAA,EAAA;AACA,sBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,wBAAA,OAAA,EAAA,MADA;AAEA,wBAAA,QAAA,EAAA;AAFA,uBAAA;AAIA;AACA,mBAjBA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA;;AAAA;AAAA;AAAA;AAAA;AAqBA,KAjCA;AAkCA,IAAA,YAlCA,0BAkCA;AACA;AACA,WAAA,SAAA,GAAA,CAAA,KAAA,SAAA;AACA,KArCA;AAsCA;AACA,IAAA,QAvCA,sBAuCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,GADA,GACA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CADA;AAEA,gBAAA,MAFA,GAEA;AACA,0BAAA;AACA,4BAAA,MAAA,CAAA,YAAA,CAAA,IADA;AAEA,gCAAA,MAAA,CAAA,YAAA,CAAA,QAFA;AAGA,gCAAA,MAAA,CAAA,YAAA,CAAA,QAHA;AAIA,4BAAA,MAAA,CAAA,YAAA,CAAA,IAJA;AAKA,oBAAA,GAAA,EAAA,GALA;AAMA,8BAAA,MAAA,CAAA,YAAA,CAAA;AANA;AADA,iBAFA;;AAYA,gBAAA,MAAA,CAAA,KAAA,CAAA,cAAA,CAAA,QAAA;AAAA,sFAAA,kBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCACA,KADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,mCAIA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,OAAA,GAAA,eAAA,EAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,8BAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,8BAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,IAAA,EAAA,GAAA,CAAA,IAAA,CAAA,EAAA;AACA,8BAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,EAAA,MAAA,CAAA,YAAA,CAAA,IAAA;;AACA,8BAAA,MAAA,CAAA,QAAA;;AACA,8BAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,gCAAA,OAAA,EAAA,MADA;AAEA,gCAAA,QAAA,EAAA;AAFA,+BAAA;;AAIA,8BAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,6BAVA,EAUA,KAVA,CAUA,UAAA,GAAA,EAAA,CAAA,EAAA;AACA,kCAAA,GAAA,EAAA;AACA,gCAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,kCAAA,OAAA,EAAA,MADA;AAEA,kCAAA,QAAA,EAAA;AAFA,iCAAA;AAIA;AACA,6BAjBA,CAJA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCA,KA1EA;AA2EA;AACA,IAAA,WA5EA,yBA4EA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,cAAA,CAAA,aAAA,CAAA,UAAA;AAAA,sFAAA,kBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,KADA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAGA,4BAAA,MAAA,CAAA,cAAA,GAAA,CAAA,MAAA,CAAA,cAAA,CAHA,CAIA;;AACA,4BAAA,UAAA,CAAA,YAAA;AACA,8BAAA,MAAA,CAAA,cAAA,GAAA,CAAA,MAAA,CAAA,cAAA;AACA,6BAFA,EAEA,OAAA,EAFA,CAAA,CALA,CAQA;;AACA,4BAAA,IATA,GASA,IAAA,IAAA,GAAA,OAAA,EATA;AAUA,4BAAA,IAVA,GAUA;AACA,8BAAA,IAAA,EAAA,MAAA,CAAA,YAAA,CAAA,QADA;AAEA,8BAAA,SAAA,EAAA;AAFA,6BAVA;AAAA;AAAA,mCAcA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,OAAA,GAAA,eAAA,EAAA,IAAA,CAdA;;AAAA;AAcA,4BAAA,GAdA;;AAeA,gCAAA,GAAA,CAAA,MAAA,KAAA,GAAA,EAAA;AACA,8BAAA,MAAA,CAAA,aAAA,GAAA,IAAA;AACA,8BAAA,MAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,EAAA,GAAA,CAAA,IAAA;;AACA,8BAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA;AACA,gCAAA,OAAA,EAAA,SADA;AAEA,gCAAA,QAAA,EAAA;AAFA,+BAAA;AAIA,6BAPA,MAOA;AACA,8BAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,gCAAA,OAAA,EAAA,SADA;AAEA,gCAAA,QAAA,EAAA;AAFA,+BAAA;AAIA;;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;AA1GA;AA/GA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login_container\">\r\n    <transition-group appear name=\"animate__animated animated__bounce \" enter-active-class=\"animate__fadeIn\"\r\n      leave-active-class=\"animate__fadeOutDown\">\r\n      <div class=\"login_box\" key=\"1\" v-if=\"isOnLogin\">\r\n        <div class=\"form\">\r\n          <span>图书管理系统</span>\r\n          <el-form @submit.prevent='' ref='loginForRef' :model=\"loginData\" :rules=\"loginFormRules\" label-width>\r\n            <el-form-item prop=\"mail_num\">\r\n              <el-input @keydown.enter.native=\"login\" placeholder=\"邮箱地址\" v-model.trim=\"loginData.mail_num\"\r\n                prefix-icon=\"el-icon-user-solid\">\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\">\r\n              <el-input @keydown.enter.native=\"login\" placeholder=\"密码\" v-model.trim=\"loginData.password\" type=\"password\"\r\n                prefix-icon=\"el-icon-s-promotion\">\r\n              </el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"btns\">\r\n              <el-button :round=\"false\" :circle=\"false\" type=\"primary\" size=\"medium\" @click=\"login\">登录<i\r\n                  class=\"el-icon-upload el-icon--right\"></i></el-button>\r\n            </el-form-item>\r\n            <el-link class=\"link\" target=\"_blank\" @click=\"switchStatus\">还没有账户？点击注册</el-link>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </transition-group>\r\n    <div class=\"register_box\" v-if=\"!isOnLogin\">\r\n      <span>新用户注册</span>\r\n      <el-form @submit.prevent='' ref='registerForRef' :model=\"registerData\" :rules=\"registerFormRules\" label-width>\r\n        <el-form-item prop=\"stu_id\">\r\n          <el-input placeholder=\"学号\" v-model.trim=\"registerData.stu_id\" prefix-icon=\"el-icon-user-solid\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"name\">\r\n          <el-input placeholder=\"昵称\" v-model.trim=\"registerData.name\" prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input show-password placeholder=\"密码\" type=\"password\" v-model.trim=\"registerData.password\"\r\n            prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"mail_num\">\r\n          <el-input placeholder=\"邮箱地址\" v-model.trim=\"registerData.mail_num\" prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"vali\">\r\n          <el-input :disabled=\"!isGetValidate\" placeholder=\"请先获取验证码（ 注意大小写 ）\" v-model.trim=\"registerData.vali\"\r\n            prefix-icon=\"el-icon-s-promotion\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item class=\"btns\">\r\n          <el-button v-if=\"registerData.mail_num\" :disabled=\"isFreqValidate\" :round=\"false\" :circle=\"false\"\r\n            type=\"primary\" size=\"medium\" @click=\"getValidate\" style=\"float:left;\">\r\n            获取验证码<i class=\"el-icon-magic-stick el-icon--right\"></i></el-button>\r\n          <el-button :disabled=\"!registerData.vali\" v-if=\"isGetValidate&&registerData.mail_num\" :round=\"false\"\r\n            :circle=\"false\" type=\"primary\" size=\"medium\" @click=\"register\" style=\"float:right\">\r\n            确认注册 <i class=\"el-icon-key el-icon--right\"></i></el-button>\r\n        </el-form-item>\r\n        <el-link class=\"link\" style=\"\" target=\"_blank\" @click=\"switchStatus\">已有账户？ 点击登录</el-link>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import 'animate.css'\r\n  import {\r\n    mapState,\r\n    mapMutations,\r\n    mapGetters,\r\n    mapActions\r\n  } from 'vuex'\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 登录表单的数据绑定对象\r\n        loginData: {\r\n          mail_num: '',\r\n          password: ''\r\n        },\r\n        // 注册表单验证对象\r\n        registerData: {\r\n          stu_id: '',\r\n          name: '',\r\n          mail_num: '',\r\n          vali: '',\r\n          password: ''\r\n        },\r\n        // 用户当前是否正准备登录\r\n        isOnLogin: true,\r\n        // 用户当前是否已经拿到验证码\r\n        isGetValidate: false,\r\n        // 防止用户频繁请求验证\r\n        isFreqValidate: false,\r\n        // 登录表单验证规则对象\r\n        loginFormRules: {\r\n          mail_num: [{\r\n              required: true,\r\n              message: '请输入邮箱地址',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 8,\r\n              message: '邮箱地址长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          password: [{\r\n              required: true,\r\n              message: '请输入密码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 5,\r\n              max: 15,\r\n              message: '密码长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        },\r\n        // 注册表单验证规则对象\r\n        registerFormRules: {\r\n          stu_id: [{\r\n              required: true,\r\n              message: '请输入您的学号',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 7,\r\n              max: 9,\r\n              message: '学号长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          name: [{\r\n              required: true,\r\n              message: '请输入你的昵称',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 0,\r\n              max: 20,\r\n              message: '昵称长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          mail_num: [{\r\n              required: true,\r\n              message: '请输入邮箱地址',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 8,\r\n              message: '邮箱地址不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          vali: [{\r\n              required: true,\r\n              message: '请输入验证码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 3,\r\n              message: '验证码不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ],\r\n          password: [{\r\n              required: true,\r\n              message: '请输入密码',\r\n              trigger: 'blur'\r\n            },\r\n            {\r\n              min: 5,\r\n              max: 15,\r\n              message: '密码长度不合法',\r\n              trigger: 'blur'\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('userAbout', {\r\n        saveInfo: 'SAVE'\r\n      }),\r\n      // 用户登录\r\n      login() {\r\n        let submit = {\r\n          \"user\": {\r\n            \"mail_num\": this.loginData.mail_num,\r\n            \"password\": this.loginData.password\r\n          }\r\n        }\r\n        this.$refs.loginForRef.validate(async valid => {\r\n          if (!valid) return\r\n          await this.$http.post(this.baseUrl+'/userlogin', submit).then(res => {\r\n            window.localStorage.setItem('token', res.data.token)\r\n            window.localStorage.setItem('id', res.data.id)\r\n            window.localStorage.setItem('name', res.data.name)\r\n            this.saveInfo()\r\n            this.$message.success({\r\n              message: '登录成功',\r\n              duration: 1000\r\n            })\r\n            this.$router.push('/home')\r\n          }).catch(err => {\r\n            if (err) {\r\n              this.$message.error({\r\n                message: '登录失败',\r\n                duration: 1500\r\n              })\r\n            }\r\n          })\r\n        })\r\n      },\r\n      switchStatus() {\r\n        // 切换界面\r\n        this.isOnLogin = !this.isOnLogin\r\n      },\r\n      // 用户注册并提交验证码\r\n      async register() {\r\n        let key = window.localStorage.getItem('_one_key')\r\n        let submit = {\r\n          \"user\": {\r\n            \"name\": this.registerData.name,\r\n            \"password\": this.registerData.password,\r\n            \"mail_num\": this.registerData.mail_num,\r\n            \"vali\": this.registerData.vali,\r\n            key,\r\n            \"stu_id\": this.registerData.stu_id\r\n          }\r\n        }\r\n        this.$refs.registerForRef.validate(async valid => {\r\n          if (!valid) {\r\n            return\r\n          }\r\n          await this.$http.post(this.baseUrl+'/userregister', submit).then(res => {\r\n            window.localStorage.setItem('token', res.data.token)\r\n            window.localStorage.setItem('id', res.data.id)\r\n            window.localStorage.setItem('name', this.registerData.name)\r\n            this.saveInfo()\r\n            this.$message.success({\r\n              message: '注册成功',\r\n              duration: 2000\r\n            })\r\n            this.$router.push('/home')\r\n          }).catch((err, a) => {\r\n            if (err) {\r\n              this.$message.error({\r\n                message: '注册失败',\r\n                duration: 1500\r\n              })\r\n            }\r\n          })\r\n        })\r\n      },\r\n      // 获取验证码\r\n      async getValidate() {\r\n        this.$refs.registerForRef.validateField('mail_num', async valid => {\r\n          if (valid)\r\n            return\r\n          this.isFreqValidate = !this.isFreqValidate\r\n          // 20s后允许再次请求\r\n          setTimeout(() => {\r\n            this.isFreqValidate = !this.isFreqValidate\r\n          }, 1000 * 20)\r\n          // 获取时间戳来为服务器标识本次验证码的请求时间\r\n          let time = new Date().getTime();\r\n          let data = {\r\n            mail: this.registerData.mail_num,\r\n            timestamp: time\r\n          }\r\n          const res = await this.$http.post(this.baseUrl+'/validateMail', data)\r\n          if (res.status === 200) {\r\n            this.isGetValidate = true\r\n            window.localStorage.setItem('_one_key', res.data)\r\n            this.$message.info({\r\n              message: '验证码发送成功',\r\n              duration: 2000\r\n            })\r\n          } else {\r\n            this.$message.error({\r\n              message: '验证码发送失败',\r\n              duration: 2000\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .link {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n  }\r\n\r\n  .login_container {\r\n    background-image: url('../assets/bookBG.jpg');\r\n    background-repeat: no-repeat;\r\n    background-size: 100% 100%;\r\n    height: 100%;\r\n    user-select: none;\r\n  }\r\n\r\n  .login_box {\r\n    position: relative;\r\n    background-color: rgba(22, 22, 22, 0.322);\r\n    box-shadow: 0 0 1.3rem #aaa;\r\n    padding-top: 2rem;\r\n    padding-left: 3.5rem;\r\n    padding-right: 3.5rem;\r\n    padding-bottom: 5rem;\r\n    border-radius: 1rem;\r\n    width: 25rem;\r\n    height: 15.8rem;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    line-height: 4rem;\r\n  }\r\n\r\n  .register_box {\r\n    position: fixed;\r\n    background-color: rgba(22, 22, 22, 0.322);\r\n    box-shadow: 0 0 1.3rem #aaa;\r\n    padding-top: 1rem;\r\n    padding-left: 6rem;\r\n    padding-right: 6rem;\r\n    padding-bottom: 10rem;\r\n    border-radius: 1rem;\r\n    width: 22rem;\r\n    height: 20.8rem;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    line-height: 4rem;\r\n  }\r\n\r\n  span {\r\n    font-family: 'STHeiti';\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  .btns {\r\n    padding-top: 1rem;\r\n  }\r\n</style>"],"sourceRoot":"src/views"}]}